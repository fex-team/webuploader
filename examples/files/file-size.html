<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" type="text/css" href="../../css/webuploader.css"/>
</head>
<body>

<div id="webUploaderBtn">文件上传</div>
<input type="file" id="fileUpload">
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="../../dist/webuploader.js"></script>
<script type="text/javascript">
    var globalFiles = null;
    $(document).ready(function () {
        $("#fileUpload").change(function () {
            var files = this.files;
            debugger;
            alert(files[0].size);
        });
        var webUploader = WebUploader.create({
            swf: '../../dist/Uploader.swf',
            server: 'http://webuploader.duapp.com/server/fileupload.php',
            pick: "#webUploaderBtn",
//            accept: {
//                title: 'Images',
//                extensions: 'gif,jpg,jpeg,bmp,png',
//                mimeTypes: 'image/*'
//            },
            thumb: {
                width: 110,
                height: 110,

                // 图片质量，只有type为`image/jpeg`的时候才有效。
                quality: 70,

                // 是否允许放大，如果想要生成小图的时候不失真，此选项应该设置为false.
                allowMagnify: true,

                // 是否允许裁剪。
                crop: true,

                // 为空的话则保留原有图片格式。
                // 否则强制转换成指定的类型。
                type: 'image/jpeg'
            },
            compress: {
                width: 1600,
                height: 1600,

                // 图片质量，只有type为`image/jpeg`的时候才有效。
                quality: 90,

                // 是否允许放大，如果想要生成小图的时候不失真，此选项应该设置为false.
                allowMagnify: false,

                // 是否允许裁剪。
                crop: false,

                // 是否保留头部meta信息。
                preserveHeaders: true,

                // 如果发现压缩后文件大小比原来还大，则使用原来图片
                // 此属性可能会影响图片自动纠正功能
                noCompressIfLarger: false,

                // 单位字节，如果图片大小小于此值，不会采用压缩。
                compressSize: 0
            },
            auto: false,
            fileNumLimit: 3,
            fileSizeLimit: 3 * 1024 * 1024 * 1024,
            fileSingleSizeLimit: 1024 * 1024 * 1024
        });
        webUploader.on("error",function () {
            debugger;
        });
    });
</script>
</body>
</html>